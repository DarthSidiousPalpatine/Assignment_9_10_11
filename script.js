const Myself=document.getElementById("Myself"),Perks=document.getElementById("Perks"),Images=document.getElementById("Images"),Contacts=document.getElementById("Contacts"),menuBtn1=document.getElementById("scroll1"),menuBtn2=document.getElementById("scroll2"),menuBtn3=document.getElementById("scroll3"),menuBtn4=document.getElementById("scroll4"),header=document.getElementById("header");menuBtn1.addEventListener("click",function(){window.scrollTo({left:0,top:Myself.getBoundingClientRect().top-100,behavior:"smooth"})}),menuBtn2.addEventListener("click",function(){window.scrollTo({left:0,top:Perks.getBoundingClientRect().top-100,behavior:"smooth"})}),menuBtn3.addEventListener("click",function(){window.scrollTo({left:0,top:Images.getBoundingClientRect().top-100,behavior:"smooth"})}),menuBtn4.addEventListener("click",function(){window.scrollTo({left:0,top:Contacts.getBoundingClientRect().top-100,behavior:"smooth"})});const hiddenElements=document.querySelectorAll(".hidden");function RevealElements(){hiddenElements.forEach(e=>{e.getBoundingClientRect().top<.9*window.innerHeight&&e.classList.add("visible")})}RevealElements(),window.addEventListener("scroll",RevealElements),window.addEventListener("scroll",function(){window.scrollY>300?header.classList.add("minimised"):header.classList.remove("minimised")});let lastInput=null;const inputField=document.getElementById("telNum");inputField.addEventListener("input",function(){!inputField.value||/^[0-9-+]+$/.test(inputField.value)?lastInput=inputField.value:inputField.value=lastInput||"",/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{11}$/.test(inputField.value)&&(alert(`Попавси! Твой номер: ${inputField.value}`),inputField.value="",lastInput="")});const errorBtn=document.getElementById("errorBtn"),underTheHeader=document.getElementById("ErrorsList"),showErrorBtn=document.getElementById("showErrorBtn");showErrorBtn.addEventListener("click",function(){"block"===underTheHeader.style.display?underTheHeader.style.display="none":underTheHeader.style.display="block"});const errorsList=new Map;function updateErrorsList(){for(let[e,t]of(underTheHeader.innerHTML="",errorsList)){let n=document.createElement("p");n.innerHTML=`${e}, кол-во: ${t}`,underTheHeader.appendChild(n)}}document.addEventListener("click",e=>{let t=`${e.target}|${e.target.className?e.target.className:"noClassName"}|${e.target.id?e.target.id:"noID"}`;if(null==errorsList.get(t)?errorsList.set(t,1):errorsList.set(t,errorsList.get(t)+1),errorsList.size>10)for(let[n,l]of errorsList){errorsList.delete(n);break}updateErrorsList()});
